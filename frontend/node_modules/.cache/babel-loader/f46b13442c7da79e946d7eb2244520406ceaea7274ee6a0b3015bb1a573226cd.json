{"ast":null,"code":"import axios from 'axios';\nimport router from '@/router';\n\n// Create axios instance with custom config\nconst api = axios.create({\n  baseURL: 'http://localhost:8080',\n  headers: {\n    'Content-Type': 'application/json'\n    // 'Accept': 'application/json'\n  },\n  withCredentials: true // Important for CORS with credentials\n});\n\n// Request interceptor\n// api.interceptors.request.use(\n//   config => {\n//     const token = localStorage.getItem('token')\n//     if (token) {\n//       // Format token properly - token may already have 'Bearer ' prefix\n//       const authToken = token.startsWith('Bearer ') ? token : `Bearer ${token}`\n//       config.headers['Authorization'] = authToken\n//       console.log(`Request to ${config.url} with token: ${authToken.substring(0, 20)}...`)\n//     } else {\n//       console.warn(`No token found for request to: ${config.url}`)\n//     }\n//     return config\n//   },\n//   error => {\n//     console.error('Request error:', error)\n//     return Promise.reject(error)\n//   }\n// )\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers['Authentication-Token'] = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response interceptor\napi.interceptors.response.use(response => response, error => {\n  console.error('Response error:', error.response?.data || error.message);\n  if (error.response) {\n    switch (error.response.status) {\n      case 401:\n        // Unauthorized - clear storage and redirect to login\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        router.push('/login');\n        break;\n      case 403:\n        // Forbidden - redirect to home\n        router.push('/');\n        break;\n      case 500:\n        console.error('Server error:', error.response.data);\n        break;\n    }\n    // Return the error message from the backend if available\n    if (error.response.data && error.response.data.message) {\n      return Promise.reject(new Error(error.response.data.message));\n    }\n  }\n  return Promise.reject(error);\n});\n\n// API Services\n// API Services\nexport const authService = {\n  async register(userData) {\n    try {\n      // Ensure professionals have a selected service type\n      if (userData.role === 'professional' && !userData.service_type) {\n        throw new Error(\"Professionals must select a service type.\");\n      }\n      console.log('Sending registration data:', userData);\n      const response = await api.post('/auth/register', userData);\n      console.log('Registration response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Registration error:', error.response?.data || error.message);\n\n      // Capture and return specific backend errors\n      throw error.response?.data || {\n        message: \"Registration failed. Please try again.\"\n      };\n    }\n  },\n  async login(credentials) {\n    try {\n      console.log('Attempting login:', credentials);\n      const response = await api.post('/auth/login', credentials);\n      console.log('Login response:', response.data);\n      if (response.data.token) {\n        // Store auth data - ensure token is saved correctly\n        const token = response.data.token;\n        localStorage.setItem('token', token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n\n        // Verify token was saved correctly\n        const savedToken = localStorage.getItem('token');\n        console.log(`Token saved successfully: ${savedToken ? 'Yes' : 'No'}`);\n        console.log(`Saved token (first 15 chars): ${savedToken ? savedToken.substring(0, 15) : 'None'}`);\n\n        // Debug: Check the localStorage item immediately\n        console.log('localStorage.token:', localStorage.getItem('token'));\n        console.log('localStorage.user:', localStorage.getItem('user'));\n\n        // Get target route path\n        const targetPath = `/${response.data.user.role}/dashboard`;\n\n        // Short delay to ensure token is saved before redirection\n        setTimeout(() => {\n          // Only navigate if not already on target page\n          // if (router.currentRoute.path !== targetPath) {\n          router.push(targetPath).catch(err => {\n            if (err.name !== 'NavigationDuplicated') {\n              console.error('Navigation error:', err);\n            }\n          });\n        }, 500);\n      }\n      return response.data;\n    } catch (error) {\n      console.error('Login error:', error.response?.data || error.message);\n      throw error;\n    }\n  },\n  async logout() {\n    try {\n      await api.post('/auth/logout');\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n\n      // Only navigate if not already on login page\n      if (router.currentRoute.path !== '/login') {\n        router.push('/login').catch(err => {\n          if (err.name !== 'NavigationDuplicated') {\n            console.error('Navigation error:', err);\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Logout error:', error.response?.data || error.message);\n      // Still clear local storage and redirect even if API call fails\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n\n      // Only navigate if not already on login page\n      if (router.currentRoute.path !== '/login') {\n        router.push('/login').catch(err => {\n          if (err.name !== 'NavigationDuplicated') {\n            console.error('Navigation error:', err);\n          }\n        });\n      }\n    }\n  },\n  getCurrentUser() {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  }\n};\nexport const serviceAPI = {\n  async getServices(params = {}) {\n    try {\n      // hiihihih\n      const response = await api.get('/api/admin/services', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching services:', error);\n      throw error;\n    }\n  },\n  async mounted() {\n    try {\n      this.services = await this.searchServices();\n      console.log(\"Services loaded:\", this.services);\n    } catch (error) {\n      console.error(\"Failed to load services:\", error);\n    }\n  },\n  async getServiceById(id) {\n    try {\n      const response = await api.get(`/api/services/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching service:', error);\n      throw error;\n    }\n  }\n};\n// async searchServices(params) {\n//   try {\n//     const response = await api.get('/api/services/search', { params })\n//     return response.data\n//   } catch (error) {\n//     console.error('Error searching services:', error)\n//     throw error\n//   }\n// },\n\nexport const customerAPI = {\n  async getRequests() {\n    try {\n      const response = await api.get('/api/customer/requests');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching requests:', error);\n      throw error;\n    }\n  },\n  async createRequest(data) {\n    try {\n      const response = await api.post('/api/customer/requests', data);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating request:', error);\n      throw error;\n    }\n  },\n  async updateRequest(requestId, data) {\n    try {\n      const response = await api.put(`/api/customer/requests/${requestId}`, data);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating request:', error);\n      throw error;\n    }\n  },\n  async closeRequest(requestId) {\n    try {\n      const response = await api.put(`/api/customer/requests/${requestId}/close`);\n      return response.data;\n    } catch (error) {\n      console.error('Error closing request:', error);\n      throw error;\n    }\n  },\n  async addReview(requestId, reviewData) {\n    try {\n      const response = await api.post(`/api/customer/requests/${requestId}/review`, reviewData);\n      return response.data;\n    } catch (error) {\n      console.error('Error adding review:', error);\n      throw error;\n    }\n  }\n};\nexport const professionalAPI = {\n  async getAssignments(status = null) {\n    try {\n      console.log('Fetching professional assignments', status ? `with status: ${status}` : '');\n      const params = status ? {\n        status\n      } : {};\n      const response = await api.get('/api/professional/assignments', {\n        params\n      });\n      console.log('Received assignments:', response.data.length);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching assignments:', error);\n      throw error;\n    }\n  },\n  async updateStatus(requestId, status) {\n    try {\n      console.log(`Updating request ${requestId} status to ${status}`);\n      const response = await api.put(`/api/professional/requests/${requestId}`, {\n        status\n      });\n      console.log('Status update response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating status:', error);\n      throw error;\n    }\n  },\n  async getProfile() {\n    try {\n      console.log('Fetching professional profile');\n      const response = await api.get('/api/professional/profile');\n      console.log('Retrieved profile data');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      throw error;\n    }\n  },\n  async updateProfile(data) {\n    try {\n      console.log('Updating professional profile with data:', data);\n      const response = await api.put('/api/professional/profile', data);\n      console.log('Profile update response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      throw error;\n    }\n  }\n};\nexport const adminAPI = {\n  async getUsers(role = null) {\n    try {\n      // Make sure token is present in localStorage\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Token not found in localStorage');\n      }\n\n      // console.log(`Fetching users with token: ${token ? token.substring(0, 15) + '...' : 'No token!'}`)\n\n      const params = role ? {\n        role\n      } : {};\n      // Add a small delay to ensure token is available\n      // await new Promise(resolve => setTimeout(resolve, 300))\n\n      const response = await api.get('/api/admin/users', {\n        params,\n        headers: {\n          'Authentication-Token': `Bearer${token}` // Add token explicitly to request\n          // Authorization: `Bearer ${localStorage.getItem('token')}`,\n        }\n      });\n      console.log('Users response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching users:', error.response?.data || error.message);\n      if (error.response && error.response.status === 401) {\n        // Handle unauthorized error specifically\n        console.log('Unauthorized. Please check your token.');\n      } else {\n        throw error;\n      }\n    }\n  },\n  async approveUser(userId) {\n    try {\n      console.log(`Approving professional with ID: ${userId}`);\n      const response = await api.post(`/api/admin/professionals/${userId}/approve`);\n      console.log('Professional approved:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error approving user:', error);\n      throw error;\n    }\n  },\n  async blockUser(userId, reason = 'Violation of terms of service') {\n    try {\n      console.log(`Blocking user with ID: ${userId}, reason: ${reason}`);\n      const response = await api.post(`/api/admin/users/${userId}/block`, {\n        reason\n      });\n      console.log('User blocked:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error blocking user:', error);\n      throw error;\n    }\n  },\n  async unblockUser(userId) {\n    try {\n      console.log(`Unblocking user with ID: ${userId}`);\n      const response = await api.post(`/api/admin/users/${userId}/unblock`);\n      console.log('User unblocked:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error unblocking user:', error);\n      throw error;\n    }\n  },\n  async getServices() {\n    try {\n      // Make sure token is present in localStorage\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Token not found in localStorage');\n      }\n      console.log(`Fetching services with token: ${token ? token.substring(0, 15) + '...' : 'No token!'}`);\n\n      // Add a small delay to ensure token is available\n      await new Promise(resolve => setTimeout(resolve, 300));\n      const response = await api.get('/api/admin/services', {\n        headers: {\n          'Authorization': `Bearer ${token}` // Add token explicitly to request\n        }\n      });\n      console.log('Services response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching services:', error.response?.data || error.message);\n      throw error;\n    }\n  },\n  // async getService(serviceId) {\n  //   try {\n  //     const response = await api.get(`/api/admin/services/${serviceId}`)\n  //     return response.data\n  //   } catch (error) {\n  //     console.error('Error fetching service:', error)\n  //     throw error\n  //   }\n  // },\n\n  async createService(serviceData) {\n    try {\n      // Convert field names to snake_case for backend compatibility\n      const formattedData = {\n        name: serviceData.name,\n        description: serviceData.description,\n        base_price: Number(serviceData.basePrice),\n        // Ensure number type\n        time_required: Number(serviceData.timeRequired),\n        // Ensure number type\n        category: serviceData.category\n      };\n      console.log('Creating service with formatted data:', formattedData);\n      const response = await api.post('/api/admin/services', formattedData);\n      console.log('Service created:', response.data);\n\n      // // Display a success flash message\n      // const flashContainer = document.getElementById('flash-messages');\n      // const flashMessage = document.createElement('div');\n      // flashMessage.classList.add('flash-message');\n      // flashMessage.textContent = 'Service created successfully!';\n      // flashContainer.appendChild(flashMessage);\n\n      // // Auto-hide the message after a few seconds\n      // setTimeout(() => {\n      //   flashMessage.remove();\n      // }, 3000)\n      return response.data;\n    } catch (error) {\n      console.error('Error creating service:', error.response?.data || error);\n\n      // Handle specific validation errors\n      if (error.response?.status === 400) {\n        throw new Error(`Validation error: ${error.response.data.message || 'Invalid data'}`);\n      }\n      throw error;\n    }\n  },\n  async updateService(serviceId, serviceData) {\n    try {\n      const response = await api.put(`/api/admin/services/${serviceId}`, serviceData);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating service:', error);\n      throw error;\n    }\n  },\n  async deleteService(serviceId) {\n    try {\n      const response = await api.delete(`/api/admin/services/${serviceId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error deleting service:', error);\n      throw error;\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","router","api","create","baseURL","headers","withCredentials","interceptors","request","use","config","token","localStorage","getItem","error","Promise","reject","response","console","data","message","status","removeItem","push","Error","authService","register","userData","role","service_type","log","post","login","credentials","setItem","JSON","stringify","user","savedToken","substring","targetPath","setTimeout","catch","err","name","logout","currentRoute","path","getCurrentUser","userStr","parse","serviceAPI","getServices","params","get","mounted","services","searchServices","getServiceById","id","customerAPI","getRequests","createRequest","updateRequest","requestId","put","closeRequest","addReview","reviewData","professionalAPI","getAssignments","length","updateStatus","getProfile","updateProfile","adminAPI","getUsers","approveUser","userId","blockUser","reason","unblockUser","resolve","createService","serviceData","formattedData","description","base_price","Number","basePrice","time_required","timeRequired","category","updateService","serviceId","deleteService","delete"],"sources":["C:/Users/91829/OneDrive/Documents/VS CODE/Household_service_22f3000082/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios'\r\nimport router from '@/router'\r\n\r\n// Create axios instance with custom config\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:8080',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n    // 'Accept': 'application/json'\r\n  },\r\n  withCredentials: true // Important for CORS with credentials\r\n})\r\n\r\n// Request interceptor\r\n// api.interceptors.request.use(\r\n//   config => {\r\n//     const token = localStorage.getItem('token')\r\n//     if (token) {\r\n//       // Format token properly - token may already have 'Bearer ' prefix\r\n//       const authToken = token.startsWith('Bearer ') ? token : `Bearer ${token}`\r\n//       config.headers['Authorization'] = authToken\r\n//       console.log(`Request to ${config.url} with token: ${authToken.substring(0, 20)}...`)\r\n//     } else {\r\n//       console.warn(`No token found for request to: ${config.url}`)\r\n//     }\r\n//     return config\r\n//   },\r\n//   error => {\r\n//     console.error('Request error:', error)\r\n//     return Promise.reject(error)\r\n//   }\r\n// )\r\napi.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers['Authentication-Token'] = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n}, error => Promise.reject(error));\r\n\r\n\r\n// Response interceptor\r\napi.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    console.error('Response error:', error.response?.data || error.message)\r\n    if (error.response) {\r\n      switch (error.response.status) {\r\n        case 401:\r\n          // Unauthorized - clear storage and redirect to login\r\n          localStorage.removeItem('token')\r\n          localStorage.removeItem('user')\r\n          router.push('/login')\r\n          break\r\n        case 403:\r\n          // Forbidden - redirect to home\r\n          router.push('/')\r\n          break\r\n        case 500:\r\n          console.error('Server error:', error.response.data)\r\n          break\r\n      }\r\n      // Return the error message from the backend if available\r\n      if (error.response.data && error.response.data.message) {\r\n        return Promise.reject(new Error(error.response.data.message))\r\n      }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// API Services\r\n// API Services\r\nexport const authService = {\r\n  async register(userData) {\r\n    try {\r\n      // Ensure professionals have a selected service type\r\n      if (userData.role === 'professional' && !userData.service_type) {\r\n        throw new Error(\"Professionals must select a service type.\");\r\n      }\r\n\r\n      console.log('Sending registration data:', userData);\r\n\r\n      const response = await api.post('/auth/register', userData);\r\n\r\n      console.log('Registration response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Registration error:', error.response?.data || error.message);\r\n\r\n      // Capture and return specific backend errors\r\n      throw error.response?.data || { message: \"Registration failed. Please try again.\" };\r\n    }\r\n  },\r\n\r\n  async login(credentials) {\r\n    try {\r\n      console.log('Attempting login:', credentials)\r\n      const response = await api.post('/auth/login', credentials)\r\n      console.log('Login response:', response.data)\r\n      \r\n      if (response.data.token) {\r\n        // Store auth data - ensure token is saved correctly\r\n        const token = response.data.token\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('user', JSON.stringify(response.data.user))\r\n        \r\n        // Verify token was saved correctly\r\n        const savedToken = localStorage.getItem('token')\r\n        console.log(`Token saved successfully: ${savedToken ? 'Yes' : 'No'}`)\r\n        console.log(`Saved token (first 15 chars): ${savedToken ? savedToken.substring(0, 15) : 'None'}`)\r\n        \r\n        // Debug: Check the localStorage item immediately\r\n        console.log('localStorage.token:', localStorage.getItem('token'))\r\n        console.log('localStorage.user:', localStorage.getItem('user'))\r\n\r\n        // Get target route path\r\n        const targetPath = `/${response.data.user.role}/dashboard`\r\n        \r\n        // Short delay to ensure token is saved before redirection\r\n        setTimeout(() => {\r\n          // Only navigate if not already on target page\r\n          // if (router.currentRoute.path !== targetPath) {\r\n            router.push(targetPath).catch(err => {\r\n              if (err.name !== 'NavigationDuplicated') {\r\n                console.error('Navigation error:', err)\r\n              }\r\n            })\r\n          }\r\n        , 500)\r\n      }\r\n      \r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Login error:', error.response?.data || error.message)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async logout() {\r\n    try {\r\n      await api.post('/auth/logout')\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n\r\n      // Only navigate if not already on login page\r\n      if (router.currentRoute.path !== '/login') {\r\n      router.push('/login').catch(err => {\r\n          if (err.name !== 'NavigationDuplicated') {\r\n            console.error('Navigation error:', err)\r\n          }\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout error:', error.response?.data || error.message)\r\n      // Still clear local storage and redirect even if API call fails\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n\r\n      // Only navigate if not already on login page\r\n      if (router.currentRoute.path !== '/login') {\r\n      router.push('/login').catch(err => {\r\n          if (err.name !== 'NavigationDuplicated') {\r\n            console.error('Navigation error:', err)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  getCurrentUser() {\r\n    const userStr = localStorage.getItem('user')\r\n    return userStr ? JSON.parse(userStr) : null\r\n  }\r\n}\r\n\r\nexport const serviceAPI = {\r\n  async getServices(params = {}) {\r\n    try {\r\n      // hiihihih\r\n      const response = await api.get('/api/admin/services', { params })\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching services:', error)\r\n      throw error\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      this.services = await this.searchServices();\r\n      console.log(\"Services loaded:\", this.services);\r\n    } catch (error) {\r\n      console.error(\"Failed to load services:\", error);\r\n    }\r\n  },\r\n\r\n  async getServiceById(id) {\r\n    try {\r\n      const response = await api.get(`/api/services/${id}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching service:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n  // async searchServices(params) {\r\n  //   try {\r\n  //     const response = await api.get('/api/services/search', { params })\r\n  //     return response.data\r\n  //   } catch (error) {\r\n  //     console.error('Error searching services:', error)\r\n  //     throw error\r\n  //   }\r\n  // },\r\n\r\n\r\nexport const customerAPI = {\r\n  async getRequests() {\r\n    try {\r\n      const response = await api.get('/api/customer/requests')\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching requests:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async createRequest(data) {\r\n    try {\r\n      const response = await api.post('/api/customer/requests', data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error creating request:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async updateRequest(requestId, data) {\r\n    try {\r\n      const response = await api.put(`/api/customer/requests/${requestId}`, data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating request:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async closeRequest(requestId) {\r\n    try {\r\n      const response = await api.put(`/api/customer/requests/${requestId}/close`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error closing request:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async addReview(requestId, reviewData) {\r\n    try {\r\n      const response = await api.post(`/api/customer/requests/${requestId}/review`, reviewData)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error adding review:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport const professionalAPI = {\r\n  async getAssignments(status = null) {\r\n    try {\r\n      console.log('Fetching professional assignments', status ? `with status: ${status}` : '')\r\n      const params = status ? { status } : {}\r\n      const response = await api.get('/api/professional/assignments', { params })\r\n      console.log('Received assignments:', response.data.length)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async updateStatus(requestId, status) {\r\n    try {\r\n      console.log(`Updating request ${requestId} status to ${status}`)\r\n      const response = await api.put(`/api/professional/requests/${requestId}`, { status })\r\n      console.log('Status update response:', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating status:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async getProfile() {\r\n    try {\r\n      console.log('Fetching professional profile')\r\n      const response = await api.get('/api/professional/profile')\r\n      console.log('Retrieved profile data')\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async updateProfile(data) {\r\n    try {\r\n      console.log('Updating professional profile with data:', data)\r\n      const response = await api.put('/api/professional/profile', data)\r\n      console.log('Profile update response:', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport const adminAPI = {\r\n  async getUsers(role = null) {\r\n    try {\r\n      // Make sure token is present in localStorage\r\n      const token = localStorage.getItem('token')\r\n      if (!token) {\r\n        throw new Error('Token not found in localStorage');\r\n      }\r\n    \r\n      // console.log(`Fetching users with token: ${token ? token.substring(0, 15) + '...' : 'No token!'}`)\r\n      \r\n      const params = role ? { role } : {}\r\n      // Add a small delay to ensure token is available\r\n      // await new Promise(resolve => setTimeout(resolve, 300))\r\n      \r\n      const response = await api.get('/api/admin/users'\r\n        , { params,\r\n        headers: {\r\n          'Authentication-Token': `Bearer${token}`  // Add token explicitly to request\r\n          // Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        }\r\n    })\r\n      console.log('Users response:', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error.response?.data || error.message)\r\n      if (error.response && error.response.status === 401) {\r\n        // Handle unauthorized error specifically\r\n        console.log('Unauthorized. Please check your token.');\r\n      } else {\r\n      throw error\r\n    }\r\n  }\r\n  },\r\n\r\n\r\n  async approveUser(userId) {\r\n    try {\r\n      console.log(`Approving professional with ID: ${userId}`);\r\n      const response = await api.post(`/api/admin/professionals/${userId}/approve`);\r\n      console.log('Professional approved:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error approving user:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async blockUser(userId, reason = 'Violation of terms of service') {\r\n    try {\r\n      console.log(`Blocking user with ID: ${userId}, reason: ${reason}`);\r\n      const response = await api.post(`/api/admin/users/${userId}/block`, { reason });\r\n      console.log('User blocked:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error blocking user:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async unblockUser(userId) {\r\n    try {\r\n      console.log(`Unblocking user with ID: ${userId}`);\r\n      const response = await api.post(`/api/admin/users/${userId}/unblock`);\r\n      console.log('User unblocked:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error unblocking user:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getServices() {\r\n    try {\r\n      // Make sure token is present in localStorage\r\n      const token = localStorage.getItem('token')\r\n      if (!token) {\r\n        throw new Error('Token not found in localStorage');\r\n      }\r\n      console.log(`Fetching services with token: ${token ? token.substring(0, 15) + '...' : 'No token!'}`)\r\n      \r\n      // Add a small delay to ensure token is available\r\n      await new Promise(resolve => setTimeout(resolve, 300))\r\n      \r\n      const response = await api.get('/api/admin/services', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`  // Add token explicitly to request\r\n        }\r\n      })\r\n      console.log('Services response:', response.data)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching services:', error.response?.data || error.message)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // async getService(serviceId) {\r\n  //   try {\r\n  //     const response = await api.get(`/api/admin/services/${serviceId}`)\r\n  //     return response.data\r\n  //   } catch (error) {\r\n  //     console.error('Error fetching service:', error)\r\n  //     throw error\r\n  //   }\r\n  // },\r\n\r\n  async createService(serviceData) {\r\n    try {\r\n        // Convert field names to snake_case for backend compatibility\r\n        const formattedData = {\r\n            name: serviceData.name,\r\n            description: serviceData.description,\r\n            base_price: Number(serviceData.basePrice), // Ensure number type\r\n            time_required: Number(serviceData.timeRequired), // Ensure number type\r\n            category: serviceData.category\r\n        };\r\n\r\n        console.log('Creating service with formatted data:', formattedData);\r\n        \r\n        const response = await api.post('/api/admin/services', formattedData);\r\n        console.log('Service created:', response.data);\r\n\r\n            \r\n        // // Display a success flash message\r\n        // const flashContainer = document.getElementById('flash-messages');\r\n        // const flashMessage = document.createElement('div');\r\n        // flashMessage.classList.add('flash-message');\r\n        // flashMessage.textContent = 'Service created successfully!';\r\n        // flashContainer.appendChild(flashMessage);\r\n    \r\n        // // Auto-hide the message after a few seconds\r\n        // setTimeout(() => {\r\n        //   flashMessage.remove();\r\n        // }, 3000)\r\n        return response.data;\r\n        } catch (error) {\r\n        console.error('Error creating service:', error.response?.data || error);\r\n        \r\n        // Handle specific validation errors\r\n        if (error.response?.status === 400) {\r\n            throw new Error(`Validation error: ${error.response.data.message || 'Invalid data'}`);\r\n        }\r\n        \r\n        throw error;\r\n    }\r\n},\r\n\r\n  async updateService(serviceId, serviceData) {\r\n    try {\r\n      const response = await api.put(`/api/admin/services/${serviceId}`, serviceData)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating service:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async deleteService(serviceId) {\r\n    try {\r\n      const response = await api.delete(`/api/admin/services/${serviceId}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error deleting service:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default api"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}