{"ast":null,"code":"import ServiceCard from '@/components/ServiceCard.vue';\nimport { serviceAPI } from '@/services/api';\nexport default {\n  name: 'Home',\n  components: {\n    ServiceCard\n  },\n  data() {\n    return {\n      services: [],\n      isLoading: false,\n      error: null\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return !!localStorage.getItem('token');\n    },\n    dashboardRoute() {\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      return `/${user.role}/dashboard`;\n    }\n  },\n  methods: {\n    async fetchServices() {\n      try {\n        console.log('HomeView: Fetching services...');\n        this.loading = true;\n\n        // Use serviceAPI directly\n        const services = await serviceAPI.getServices();\n        if (services && services.length > 0) {\n          console.log(`HomeView: Received ${services.length} services`);\n          this.services = services;\n        } else {\n          console.warn('No services returned, using fallback data');\n          this.services = this.getFallbackServices();\n          // Optionally show a warning to the user\n        }\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        // Use fallback data instead of showing an error\n        this.services = this.getFallbackServices();\n      } finally {\n        this.loading = false;\n      }\n    },\n    getFallbackServices() {\n      // Same mock data as in ServicesList component\n      return [{\n        id: 1,\n        name: 'Plumbing Service',\n        description: 'Professional plumbing services including repairs, installations, and maintenance.',\n        base_price: 500,\n        time_required: 2,\n        category: 'Plumbing'\n      }, {\n        id: 2,\n        name: 'Electrical Repair',\n        description: 'Electrical installations, repairs and maintenance for your home.',\n        base_price: 600,\n        time_required: 3,\n        category: 'Electrical'\n      }, {\n        id: 3,\n        name: 'House Cleaning',\n        description: 'Complete house cleaning and sanitization services.',\n        base_price: 400,\n        time_required: 4,\n        category: 'Cleaning'\n      }];\n    },\n    handleServiceClick(service) {\n      if (!this.isLoggedIn) {\n        this.$router.push('/login');\n      } else {\n        this.$router.push({\n          name: 'ServiceRequest',\n          params: {\n            serviceId: service.id\n          }\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchServices();\n  }\n};","map":{"version":3,"names":["ServiceCard","serviceAPI","name","components","data","services","isLoading","error","computed","isLoggedIn","localStorage","getItem","dashboardRoute","user","JSON","parse","role","methods","fetchServices","console","log","loading","getServices","length","warn","getFallbackServices","id","description","base_price","time_required","category","handleServiceClick","service","$router","push","params","serviceId","created"],"sources":["src/views/HomeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- Hero Section -->\r\n    <section class=\"hero bg-primary text-white py-5\">\r\n      <div class=\"container\">\r\n        <div class=\"row justify-content-center text-center\">\r\n          <div class=\"col-md-8\">\r\n            <h1 class=\"display-4 mb-4\">Welcome to A-Z Household Services</h1>\r\n            <p class=\"lead mb-4\">Find and book professional services for your home with ease</p>\r\n            <div class=\"d-flex justify-content-center gap-3\">\r\n              <router-link v-if=\"!isLoggedIn\" to=\"/register\" class=\"btn btn-light btn-lg\">Get Started</router-link>\r\n              <router-link v-else :to=\"dashboardRoute\" class=\"btn btn-light btn-lg\">Go to Dashboard</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Services Section -->\r\n    <section class=\"services py-5\">\r\n      <div class=\"container\">\r\n        <h2 class=\"text-center mb-5\">Our Services</h2>\r\n        <div class=\"row g-4\">\r\n          <div v-for=\"service in services\" :key=\"service.id\" class=\"col-md-4\">\r\n            <service-card \r\n              :service=\"service\"\r\n              @click=\"handleServiceClick(service)\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Features Section -->\r\n    <section class=\"features bg-light py-5\">\r\n      <div class=\"container\">\r\n        <h2 class=\"text-center mb-5\">Why Choose Us</h2>\r\n        <div class=\"row g-4\">\r\n          <div class=\"col-md-4\">\r\n            <div class=\"text-center\">\r\n              <i class=\"fas fa-check-circle fa-3x text-primary mb-3\"></i>\r\n              <h4>Verified Professionals</h4>\r\n              <p>All our service providers are thoroughly vetted and verified</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <div class=\"text-center\">\r\n              <i class=\"fas fa-clock fa-3x text-primary mb-3\"></i>\r\n              <h4>Quick Service</h4>\r\n              <p>Get your service requests handled promptly</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <div class=\"text-center\">\r\n              <i class=\"fas fa-star fa-3x text-primary mb-3\"></i>\r\n              <h4>Quality Assured</h4>\r\n              <p>Rated and reviewed by our community</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ServiceCard from '@/components/ServiceCard.vue'\r\nimport { serviceAPI } from '@/services/api'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    ServiceCard\r\n  },\r\n  data() {\r\n    return {\r\n      services: [],\r\n      isLoading: false,\r\n      error: null\r\n    }\r\n  },\r\n  computed: {\r\n    isLoggedIn() {\r\n      return !!localStorage.getItem('token')\r\n    },\r\n    dashboardRoute() {\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}')\r\n      return `/${user.role}/dashboard`\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchServices() {\r\n      try {\r\n        console.log('HomeView: Fetching services...')\r\n        this.loading = true\r\n        \r\n        // Use serviceAPI directly\r\n        const services = await serviceAPI.getServices()\r\n        \r\n        if (services && services.length > 0) {\r\n          console.log(`HomeView: Received ${services.length} services`)\r\n          this.services = services\r\n        } else {\r\n          console.warn('No services returned, using fallback data')\r\n          this.services = this.getFallbackServices()\r\n          // Optionally show a warning to the user\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching services:', error)\r\n        // Use fallback data instead of showing an error\r\n        this.services = this.getFallbackServices()\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    getFallbackServices() {\r\n      // Same mock data as in ServicesList component\r\n      return [\r\n        {\r\n          id: 1,\r\n          name: 'Plumbing Service',\r\n          description: 'Professional plumbing services including repairs, installations, and maintenance.',\r\n          base_price: 500,\r\n          time_required: 2,\r\n          category: 'Plumbing'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'Electrical Repair',\r\n          description: 'Electrical installations, repairs and maintenance for your home.',\r\n          base_price: 600,\r\n          time_required: 3,\r\n          category: 'Electrical'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'House Cleaning',\r\n          description: 'Complete house cleaning and sanitization services.',\r\n          base_price: 400,\r\n          time_required: 4,\r\n          category: 'Cleaning'\r\n        }\r\n      ]\r\n    },\r\n    handleServiceClick(service) {\r\n      if (!this.isLoggedIn) {\r\n        this.$router.push('/login')\r\n      } else {\r\n        this.$router.push({\r\n          name: 'ServiceRequest',\r\n          params: { serviceId: service.id }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchServices()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hero {\r\n  background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);\r\n}\r\n\r\n.services .card {\r\n  transition: transform 0.2s;\r\n  cursor: pointer;\r\n}\r\n\r\n.services .card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.features i {\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.features .col-md-4:hover i {\r\n  transform: scale(1.1);\r\n}\r\n</style>\r\n"],"mappings":"AAkEA,OAAAA,WAAA;AACA,SAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACA;MACAC,QAAA;MACAC,SAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,SAAAC,YAAA,CAAAC,OAAA;IACA;IACAC,eAAA;MACA,MAAAC,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAL,YAAA,CAAAC,OAAA;MACA,WAAAE,IAAA,CAAAG,IAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,cAAA;MACA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAC,OAAA;;QAEA;QACA,MAAAhB,QAAA,SAAAJ,UAAA,CAAAqB,WAAA;QAEA,IAAAjB,QAAA,IAAAA,QAAA,CAAAkB,MAAA;UACAJ,OAAA,CAAAC,GAAA,uBAAAf,QAAA,CAAAkB,MAAA;UACA,KAAAlB,QAAA,GAAAA,QAAA;QACA;UACAc,OAAA,CAAAK,IAAA;UACA,KAAAnB,QAAA,QAAAoB,mBAAA;UACA;QACA;MACA,SAAAlB,KAAA;QACAY,OAAA,CAAAZ,KAAA,6BAAAA,KAAA;QACA;QACA,KAAAF,QAAA,QAAAoB,mBAAA;MACA;QACA,KAAAJ,OAAA;MACA;IACA;IAEAI,oBAAA;MACA;MACA,QACA;QACAC,EAAA;QACAxB,IAAA;QACAyB,WAAA;QACAC,UAAA;QACAC,aAAA;QACAC,QAAA;MACA,GACA;QACAJ,EAAA;QACAxB,IAAA;QACAyB,WAAA;QACAC,UAAA;QACAC,aAAA;QACAC,QAAA;MACA,GACA;QACAJ,EAAA;QACAxB,IAAA;QACAyB,WAAA;QACAC,UAAA;QACAC,aAAA;QACAC,QAAA;MACA,EACA;IACA;IACAC,mBAAAC,OAAA;MACA,UAAAvB,UAAA;QACA,KAAAwB,OAAA,CAAAC,IAAA;MACA;QACA,KAAAD,OAAA,CAAAC,IAAA;UACAhC,IAAA;UACAiC,MAAA;YAAAC,SAAA,EAAAJ,OAAA,CAAAN;UAAA;QACA;MACA;IACA;EACA;EACAW,QAAA;IACA,KAAAnB,aAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}