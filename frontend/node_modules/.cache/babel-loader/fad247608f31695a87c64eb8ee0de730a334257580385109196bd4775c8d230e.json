{"ast":null,"code":"import { ref, reactive, watch } from 'vue';\nimport { serviceAPI } from '@/services/api';\nexport default {\n  name: 'ServiceSearchPanel',\n  props: {\n    initialParams: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['search'],\n  setup(props, {\n    emit\n  }) {\n    const categories = ref([]);\n    const searchParams = reactive({\n      name: props.initialParams.name || '',\n      pinCode: props.initialParams.pinCode || '',\n      category: props.initialParams.category || '',\n      priceMin: props.initialParams.priceMin || '',\n      priceMax: props.initialParams.priceMax || '',\n      sortBy: props.initialParams.sortBy || ''\n    });\n    const fetchCategories = async () => {\n      try {\n        const response = await serviceAPI.getServiceTypes();\n        categories.value = response;\n      } catch (error) {\n        console.error('Error fetching service types:', error);\n      }\n    };\n    const emitSearch = () => {\n      emit('search', {\n        ...searchParams\n      });\n    };\n\n    // Initialize categories on component mount\n    fetchCategories();\n\n    // Watch for prop changes\n    watch(() => props.initialParams, newParams => {\n      Object.keys(newParams).forEach(key => {\n        if (searchParams[key] !== undefined) {\n          searchParams[key] = newParams[key];\n        }\n      });\n    }, {\n      deep: true\n    });\n    return {\n      categories,\n      searchParams,\n      emitSearch\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","watch","serviceAPI","name","props","initialParams","type","Object","default","emits","setup","emit","categories","searchParams","pinCode","category","priceMin","priceMax","sortBy","fetchCategories","response","getServiceTypes","value","error","console","emitSearch","newParams","keys","forEach","key","undefined","deep"],"sources":["src/components/ServiceSearchPanel.vue"],"sourcesContent":["<template>\r\n  <div class=\"service-search-panel\">\r\n    <div class=\"card shadow-sm mb-4\">\r\n      <div class=\"card-body\">\r\n        <h5 class=\"card-title mb-3\">Find Services</h5>\r\n        <div class=\"row g-3\">\r\n          <div class=\"col-md-4\">\r\n            <div class=\"input-group\">\r\n              <span class=\"input-group-text\">\r\n                <i class=\"fas fa-search\"></i>\r\n              </span>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                v-model=\"searchParams.name\"\r\n                placeholder=\"Service name...\"\r\n                @input=\"emitSearch\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <div class=\"input-group\">\r\n              <span class=\"input-group-text\">\r\n                <i class=\"fas fa-map-marker-alt\"></i>\r\n              </span>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                v-model=\"searchParams.pinCode\"\r\n                placeholder=\"PIN code...\"\r\n                @input=\"emitSearch\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <select class=\"form-select\" v-model=\"searchParams.category\" @change=\"emitSearch\">\r\n              <option value=\"\">All Categories</option>\r\n              <option v-for=\"category in categories\" :key=\"category\" :value=\"category\">\r\n                {{ category }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"mt-3\">\r\n          <div class=\"accordion\" id=\"accordionFilters\">\r\n            <div class=\"accordion-item border-0\">\r\n              <h2 class=\"accordion-header\" id=\"headingAdvanced\">\r\n                <button class=\"accordion-button collapsed p-0 bg-transparent shadow-none\" type=\"button\" \r\n                        data-bs-toggle=\"collapse\" data-bs-target=\"#collapseAdvanced\" \r\n                        aria-expanded=\"false\" aria-controls=\"collapseAdvanced\">\r\n                  <small>Advanced Filters</small>\r\n                </button>\r\n              </h2>\r\n              <div id=\"collapseAdvanced\" class=\"accordion-collapse collapse\" \r\n                   aria-labelledby=\"headingAdvanced\" data-bs-parent=\"#accordionFilters\">\r\n                <div class=\"accordion-body px-0 pt-3\">\r\n                  <div class=\"row g-3\">\r\n                    <div class=\"col-md-6\">\r\n                      <label class=\"form-label\">Price Range</label>\r\n                      <div class=\"d-flex gap-2\">\r\n                        <input type=\"number\" class=\"form-control\" placeholder=\"Min\" \r\n                               v-model=\"searchParams.priceMin\" @input=\"emitSearch\">\r\n                        <input type=\"number\" class=\"form-control\" placeholder=\"Max\"\r\n                               v-model=\"searchParams.priceMax\" @input=\"emitSearch\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                      <label class=\"form-label\">Sort By</label>\r\n                      <select class=\"form-select\" v-model=\"searchParams.sortBy\" @change=\"emitSearch\">\r\n                        <option value=\"\">Default</option>\r\n                        <option value=\"price_asc\">Price: Low to High</option>\r\n                        <option value=\"price_desc\">Price: High to Low</option>\r\n                        <option value=\"rating\">Rating</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, watch } from 'vue';\r\nimport { serviceAPI } from '@/services/api';\r\n\r\nexport default {\r\n  name: 'ServiceSearchPanel',\r\n  props: {\r\n    initialParams: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  emits: ['search'],\r\n  setup(props, { emit }) {\r\n    const categories = ref([]);\r\n    const searchParams = reactive({\r\n      name: props.initialParams.name || '',\r\n      pinCode: props.initialParams.pinCode || '',\r\n      category: props.initialParams.category || '',\r\n      priceMin: props.initialParams.priceMin || '',\r\n      priceMax: props.initialParams.priceMax || '',\r\n      sortBy: props.initialParams.sortBy || ''\r\n    });\r\n\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await serviceAPI.getServiceTypes();\r\n        categories.value = response;\r\n      } catch (error) {\r\n        console.error('Error fetching service types:', error);\r\n      }\r\n    };\r\n\r\n    const emitSearch = () => {\r\n      emit('search', { ...searchParams });\r\n    };\r\n\r\n    // Initialize categories on component mount\r\n    fetchCategories();\r\n\r\n    // Watch for prop changes\r\n    watch(() => props.initialParams, (newParams) => {\r\n      Object.keys(newParams).forEach(key => {\r\n        if (searchParams[key] !== undefined) {\r\n          searchParams[key] = newParams[key];\r\n        }\r\n      });\r\n    }, { deep: true });\r\n\r\n    return {\r\n      categories,\r\n      searchParams,\r\n      emitSearch\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.accordion-button:not(.collapsed)::after {\r\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230d6efd'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\r\n}\r\n\r\n.accordion-button.collapsed::after {\r\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230d6efd'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\r\n}\r\n</style>\r\n"],"mappings":"AAwFA,SAAAA,GAAA,EAAAC,QAAA,EAAAC,KAAA;AACA,SAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,aAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;IACA;EACA;EACAC,KAAA;EACAC,MAAAN,KAAA;IAAAO;EAAA;IACA,MAAAC,UAAA,GAAAb,GAAA;IACA,MAAAc,YAAA,GAAAb,QAAA;MACAG,IAAA,EAAAC,KAAA,CAAAC,aAAA,CAAAF,IAAA;MACAW,OAAA,EAAAV,KAAA,CAAAC,aAAA,CAAAS,OAAA;MACAC,QAAA,EAAAX,KAAA,CAAAC,aAAA,CAAAU,QAAA;MACAC,QAAA,EAAAZ,KAAA,CAAAC,aAAA,CAAAW,QAAA;MACAC,QAAA,EAAAb,KAAA,CAAAC,aAAA,CAAAY,QAAA;MACAC,MAAA,EAAAd,KAAA,CAAAC,aAAA,CAAAa,MAAA;IACA;IAEA,MAAAC,eAAA,SAAAA,CAAA;MACA;QACA,MAAAC,QAAA,SAAAlB,UAAA,CAAAmB,eAAA;QACAT,UAAA,CAAAU,KAAA,GAAAF,QAAA;MACA,SAAAG,KAAA;QACAC,OAAA,CAAAD,KAAA,kCAAAA,KAAA;MACA;IACA;IAEA,MAAAE,UAAA,GAAAA,CAAA;MACAd,IAAA;QAAA,GAAAE;MAAA;IACA;;IAEA;IACAM,eAAA;;IAEA;IACAlB,KAAA,OAAAG,KAAA,CAAAC,aAAA,EAAAqB,SAAA;MACAnB,MAAA,CAAAoB,IAAA,CAAAD,SAAA,EAAAE,OAAA,CAAAC,GAAA;QACA,IAAAhB,YAAA,CAAAgB,GAAA,MAAAC,SAAA;UACAjB,YAAA,CAAAgB,GAAA,IAAAH,SAAA,CAAAG,GAAA;QACA;MACA;IACA;MAAAE,IAAA;IAAA;IAEA;MACAnB,UAAA;MACAC,YAAA;MACAY;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}