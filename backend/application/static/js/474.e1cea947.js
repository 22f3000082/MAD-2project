"use strict";(self["webpackChunkhousehold_services"]=self["webpackChunkhousehold_services"]||[]).push([[474],{474:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"services-list-view"},[e._m(0),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"card shadow-sm mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title mb-3"},[e._v("Categories")]),t("div",{staticClass:"list-group category-filter"},[t("button",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",class:{active:""===e.selectedCategory},on:{click:function(t){return e.filterByCategory("")}}},[e._v(" All Categories "),t("span",{staticClass:"badge bg-primary rounded-pill"},[e._v(e._s(e.services.length))])]),e._l(e.categoryCount,(function(i,s){return t("button",{key:s,staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",class:{active:e.selectedCategory===s},on:{click:function(t){return e.filterByCategory(s)}}},[e._v(" "+e._s(s)+" "),t("span",{staticClass:"badge bg-primary rounded-pill"},[e._v(e._s(i))])])}))],2)])]),t("div",{staticClass:"card shadow-sm mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title mb-3"},[e._v("Price Range")]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"minPrice"}},[e._v("Min Price (₹)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.priceFilter.min,expression:"priceFilter.min",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"minPrice",min:"0"},domProps:{value:e.priceFilter.min},on:{change:e.applyFilters,input:function(t){t.target.composing||e.$set(e.priceFilter,"min",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"maxPrice"}},[e._v("Max Price (₹)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.priceFilter.max,expression:"priceFilter.max",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"maxPrice",min:"0"},domProps:{value:e.priceFilter.max},on:{change:e.applyFilters,input:function(t){t.target.composing||e.$set(e.priceFilter,"max",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("button",{staticClass:"btn btn-primary w-100",on:{click:e.applyFilters}},[e._v("Apply Filters")])])])]),t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"card shadow-sm mb-4"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search services by name..."},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.applyFilters]}}),e._m(1)])])]),e.filteredServices.length>0?t("div",[t("div",{staticClass:"row g-4"},e._l(e.filteredServices,(function(i){return t("div",{key:i.id,staticClass:"col-md-6 col-xl-4"},[t("div",{staticClass:"card service-card h-100 shadow-sm"},[t("div",{staticClass:"card-body text-center"},[t("div",{staticClass:"service-icon mb-3"},[t("i",{staticClass:"fa-3x text-primary",class:e.getServiceIcon(i.category)})]),t("h3",{staticClass:"card-title"},[e._v(e._s(i.name))]),t("p",{staticClass:"card-text text-muted"},[e._v(e._s(i.description))]),t("div",{staticClass:"d-flex justify-content-between align-items-center mt-3"},[t("span",{staticClass:"text-primary fw-bold"},[e._v("₹"+e._s(i.base_price))]),t("span",{staticClass:"badge bg-light text-dark"},[e._v(e._s(i.time_required)+" hrs")])])]),t("div",{staticClass:"card-footer bg-white border-0 p-3"},[t("button",{staticClass:"btn btn-primary w-100",on:{click:function(t){return e.handleServiceClick(i)}}},[e._v(" Book Now ")])])])])})),0)]):t("div",{staticClass:"card shadow-sm"},[t("div",{staticClass:"card-body text-center py-5"},[t("i",{staticClass:"fas fa-search fa-3x text-muted mb-3"}),t("h3",[e._v("No services found")]),t("p",{staticClass:"text-muted"},[e._v("Try adjusting your search or filter criteria")]),t("button",{staticClass:"btn btn-outline-primary",on:{click:e.resetFilters}},[e._v(" Reset Filters ")])])])])])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row mb-4"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"jumbotron p-4"},[t("h1",{staticClass:"display-5"},[e._v("Our Services")]),t("p",{staticClass:"lead"},[e._v(" Browse and search for the services you need. We offer a wide range of household services to make your life easier. ")])])])])},function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t("i",{staticClass:"fas fa-search"})])}],a=i(844);const c={name:"ServicesList",data(){return{services:[],filteredServices:[],isLoading:!1,error:null,searchQuery:"",selectedCategory:"",priceFilter:{min:0,max:1e4}}},computed:{isLoggedIn(){return!!localStorage.getItem("token")},categoryCount(){const e={};return this.services.forEach((t=>{const i=t.category||"Uncategorized";e[i]=(e[i]||0)+1})),e}},methods:{async fetchServices(){try{this.isLoading=!0;const e=await a.YR.getServices();e&&e.length>0?(this.services=e,this.filteredServices=[...e]):(this.services=this.getFallbackServices(),this.filteredServices=[...this.services])}catch(e){console.error("Error fetching services:",e),this.services=this.getFallbackServices(),this.filteredServices=[...this.services]}finally{this.isLoading=!1,this.applyQueryFilters()}},getFallbackServices(){return[{id:1,name:"Plumbing Service",description:"Professional plumbing services including repairs, installations, and maintenance.",base_price:500,time_required:2,category:"Plumbing"},{id:2,name:"Electrical Repair",description:"Electrical installations, repairs and maintenance for your home.",base_price:600,time_required:3,category:"Electrical"},{id:3,name:"House Cleaning",description:"Complete house cleaning and sanitization services.",base_price:400,time_required:4,category:"Cleaning"},{id:4,name:"AC Repair",description:"Air conditioner repair and maintenance services.",base_price:700,time_required:2,category:"Appliance Repair"},{id:5,name:"Painting",description:"Professional painting services for your home or office.",base_price:2e3,time_required:8,category:"Painting"},{id:6,name:"Pest Control",description:"Comprehensive pest control solutions for your home.",base_price:900,time_required:3,category:"Pest Control"}]},applyQueryFilters(){this.$route.query.search&&(this.searchQuery=this.$route.query.search),this.$route.query.category&&(this.selectedCategory=this.$route.query.category),this.$route.query.minPrice&&(this.priceFilter.min=Number(this.$route.query.minPrice)),this.$route.query.maxPrice&&(this.priceFilter.max=Number(this.$route.query.maxPrice)),this.applyFilters()},applyFilters(){let e=[...this.services];if(this.searchQuery.trim()){const t=this.searchQuery.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))}this.selectedCategory&&(e=e.filter((e=>e.category===this.selectedCategory))),e=e.filter((e=>e.base_price>=this.priceFilter.min&&(0===this.priceFilter.max||e.base_price<=this.priceFilter.max))),this.filteredServices=e,this.updateQueryParams()},updateQueryParams(){const e={};this.searchQuery.trim()&&(e.search=this.searchQuery),this.selectedCategory&&(e.category=this.selectedCategory),this.priceFilter.min>0&&(e.minPrice=this.priceFilter.min),this.priceFilter.max>0&&(e.maxPrice=this.priceFilter.max),this.$router.replace({query:Object.keys(e).length?e:void 0}).catch((()=>{}))},filterByCategory(e){this.selectedCategory=e,this.applyFilters()},resetFilters(){this.searchQuery="",this.selectedCategory="",this.priceFilter.min=0,this.priceFilter.max=1e4,this.filteredServices=[...this.services],this.$router.replace({query:void 0}).catch((()=>{}))},handleServiceClick(e){this.isLoggedIn?this.$router.push({name:"ServiceRequest",params:{serviceId:e.id}}):this.$router.push({path:"/login",query:{redirect:`/service-request/${e.id}`}})},getServiceIcon(e){const t={Plumbing:"fas fa-wrench",Electrical:"fas fa-bolt",Cleaning:"fas fa-broom",Carpentry:"fas fa-hammer",Painting:"fas fa-paint-roller",Gardening:"fas fa-leaf","Appliance Repair":"fas fa-tools","Pest Control":"fas fa-bug",default:"fas fa-concierge-bell"};return t[e]||t.default}},created(){this.fetchServices()}},l=c;var n=i(656),o=(0,n.A)(l,s,r,!1,null,null,null);const d=o.exports}}]);