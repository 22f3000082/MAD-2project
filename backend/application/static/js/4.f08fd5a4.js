"use strict";(self["webpackChunkhousehold_services"]=self["webpackChunkhousehold_services"]||[]).push([[4],{4:(t,s,e)=>{e.r(s),e.d(s,{default:()=>d});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"professional-profile-page"},[s("div",{staticClass:"container py-5"},[t.loading?s("div",{staticClass:"text-center my-5"},[t._m(0),s("p",{staticClass:"mt-2"},[t._v("Loading professional profile...")])]):t.error?s("div",{staticClass:"alert alert-danger"},[s("i",{staticClass:"fas fa-exclamation-triangle me-2"}),t._v(" "+t._s(t.error)+" ")]):s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 mb-4"},[s("div",{staticClass:"card profile-card"},[s("div",{staticClass:"card-body text-center"},[t._m(1),s("h3",[t._v(t._s(t.profile.professional_name))]),t.editMode?s("div",[s("form",{on:{submit:function(s){return s.preventDefault(),t.updateProfile.apply(null,arguments)}}},[s("div",{staticClass:"form-group mb-3"},[s("label",[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.form.description},on:{input:function(s){s.target.composing||t.$set(t.form,"description",s.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[t._v("Phone")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"tel"},domProps:{value:t.form.phone},on:{input:function(s){s.target.composing||t.$set(t.form,"phone",s.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("label",[t._v("Experience (years)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.experience,expression:"form.experience"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.form.experience},on:{input:function(s){s.target.composing||t.$set(t.form,"experience",s.target.value)}}})]),s("div",{staticClass:"btn-group w-100"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.loading}},[t._v(" Save Changes ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.loading},on:{click:t.cancelEdit}},[t._v(" Cancel ")])])])]):s("div",[s("p",{staticClass:"text-muted"},[t._v(t._s(t.profile.description||"No description available."))]),s("hr"),s("div",{staticClass:"text-start"},[s("p",{staticClass:"mb-2"},[t._m(2),t._v(" "+t._s(t.profile.experience)+" years")]),s("p",{staticClass:"mb-2"},[t._m(3),t._v(" "+t._s(t.profile.phone||"Not provided"))]),s("p",{staticClass:"mb-2"},[t._m(4),t._v(" "+t._s(t.formatDate(t.profile.date_created)))]),s("button",{staticClass:"btn btn-primary mt-3 w-100",on:{click:function(s){t.editMode=!0}}},[t._v(" Edit Profile ")])])])])])]),s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"card"},[t._m(5),s("div",{staticClass:"card-body"},[t.profile.reviews&&0!==t.profile.reviews.length?s("div",[s("div",{staticClass:"list-group list-group-flush"},t._l(t.profile.reviews,(function(e){return s("div",{key:e.id,staticClass:"list-group-item"},[s("div",{staticClass:"d-flex justify-content-between align-items-start mb-2"},[s("div",[s("h6",{staticClass:"mb-0"},[t._v(t._s(e.customer_name||"Customer"))]),s("small",{staticClass:"text-muted"},[t._v(t._s(t.formatDate(e.date_created)))])]),s("div",{staticClass:"rating"},t._l(5,(function(t){return s("i",{key:t,staticClass:"fas fa-star",class:t<=e.rating?"text-warning":"text-muted"})})),0)]),s("p",{staticClass:"mb-0"},[t._v(t._s(e.remarks))]),s("small",{staticClass:"text-muted"},[t._v("Service: "+t._s(e.service_name))])])})),0)]):s("div",{staticClass:"text-center py-4"},[s("p",{staticClass:"text-muted"},[t._v("No reviews yet")])])])]),s("div",{staticClass:"card mt-4"},[t._m(6),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row g-4"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"stat-card bg-light p-3 text-center rounded"},[t._m(7),s("h5",[t._v(t._s(t.profile.completed_services||0))]),s("p",{staticClass:"text-muted mb-0"},[t._v("Services Completed")])])]),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"stat-card bg-light p-3 text-center rounded"},[t._m(8),s("h5",[t._v(t._s(t.profile.average_rating?.toFixed(1)||"0.0"))]),s("p",{staticClass:"text-muted mb-0"},[t._v("Average Rating")])])]),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"stat-card bg-light p-3 text-center rounded"},[t._m(9),s("h5",[t._v(t._s(t.profile.total_customers||0))]),s("p",{staticClass:"text-muted mb-0"},[t._v("Customers Served")])])])])])])])])])])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"profile-image mb-3"},[s("img",{staticClass:"rounded-circle img-thumbnail",attrs:{src:"https://via.placeholder.com/150",alt:"Professional"}})])},function(){var t=this,s=t._self._c;return s("strong",[s("i",{staticClass:"fas fa-briefcase me-2"}),t._v("Experience:")])},function(){var t=this,s=t._self._c;return s("strong",[s("i",{staticClass:"fas fa-phone me-2"}),t._v("Phone:")])},function(){var t=this,s=t._self._c;return s("strong",[s("i",{staticClass:"fas fa-calendar-check me-2"}),t._v("Joined:")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header bg-white"},[s("h4",{staticClass:"mb-0"},[t._v("Reviews")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header bg-white"},[s("h4",{staticClass:"mb-0"},[t._v("Service Statistics")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"stat-icon mb-2"},[s("i",{staticClass:"fas fa-check-circle fa-2x text-success"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"stat-icon mb-2"},[s("i",{staticClass:"fas fa-star fa-2x text-warning"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"stat-icon mb-2"},[s("i",{staticClass:"fas fa-users fa-2x text-primary"})])}],r=e(844);const o={name:"ProfessionalProfile",data(){return{profile:null,loading:!1,error:null,editMode:!1,form:{description:"",phone:"",experience:"",availability:[]}}},created(){this.fetchProfile()},methods:{async fetchProfile(){this.loading=!0;try{const t=await r.Uo.getProfile();if(this.profile=t,!this.profile.reviews){const t=await r.Uo.getReviews();this.profile.reviews=t||[]}this.form={description:t.description||"",phone:t.phone||"",experience:t.experience||"",availability:t.availability||[]}}catch(t){this.error=t.message||"Failed to load profile",console.error("Error fetching profile:",t)}finally{this.loading=!1}},async updateProfile(){this.loading=!0;try{await r.Uo.updateProfile(this.form),this.profile={...this.profile,...this.form},this.editMode=!1,this.$toast?.success("Profile updated successfully")||alert("Profile updated successfully")}catch(t){this.$toast?.error(t.message||"Failed to update profile")||alert("Failed to update profile: "+(t.message||"")),console.error("Error updating profile:",t)}finally{this.loading=!1}},cancelEdit(){this.editMode=!1,this.form={description:this.profile.description||"",phone:this.profile.phone||"",experience:this.profile.experience||"",availability:this.profile.availability||[]}},formatDate(t){if(!t)return"N/A";const s=new Date(t);return s.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"})}}},l=o;var c=e(656),n=(0,c.A)(l,i,a,!1,null,"364589af",null);const d=n.exports}}]);