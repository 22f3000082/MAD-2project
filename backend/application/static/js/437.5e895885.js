"use strict";(self["webpackChunkhousehold_services"]=self["webpackChunkhousehold_services"]||[]).push([[437],{437:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var i=function(){var e=this,s=e._self._c;return s("div",{staticClass:"service-details-page"},[s("div",{staticClass:"container py-5"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"card mb-4"},[s("div",{staticClass:"card-body"},[e.loading?s("div",{staticClass:"text-center py-4"},[e._m(0),s("p",{staticClass:"mt-2"},[e._v("Loading service details...")])]):e.error?s("div",{staticClass:"alert alert-danger"},[e._v(" "+e._s(e.error)+" ")]):s("div",[s("h2",{staticClass:"mb-3"},[e._v(e._s(e.service.name))]),s("div",{staticClass:"d-flex justify-content-between align-items-center mb-4"},[s("span",{staticClass:"badge bg-primary fs-5 px-3 py-2"},[e._v("₹"+e._s(e.service.base_price))]),s("div",{staticClass:"text-muted"},[s("i",{staticClass:"far fa-clock me-2"}),e._v(" "+e._s(e.service.time_required)+" minutes ")])]),s("div",{staticClass:"mb-4"},[s("h5",[e._v("Description")]),s("p",[e._v(e._s(e.service.description))])]),s("div",{staticClass:"mb-4"},[s("h5",[e._v("Category")]),s("p",[e._v(e._s(e.service.category))])]),s("div",{staticClass:"mb-4"},[s("h5",[e._v("What's Included")]),s("ul",{staticClass:"included-list"},e._l(e.serviceIncludes,(function(t,i){return s("li",{key:i},[s("i",{staticClass:"fas fa-check text-success me-2"}),e._v(" "+e._s(t)+" ")])})),0)]),s("div",{staticClass:"d-grid"},[s("button",{staticClass:"btn btn-primary btn-lg",on:{click:function(s){e.showRequestForm=!0}}},[s("i",{staticClass:"fas fa-shopping-cart me-2"}),e._v(" Book This Service ")])])])])]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header bg-white d-flex justify-content-between align-items-center"},[s("h5",{staticClass:"mb-0"},[e._v("Customer Reviews")]),s("span",{staticClass:"text-muted"},[e._v(e._s(e.reviews.length)+" reviews")])]),s("div",{staticClass:"card-body"},[0===e.reviews.length?s("div",{staticClass:"text-center py-4"},[s("i",{staticClass:"far fa-star fa-3x text-muted mb-3"}),s("h5",[e._v("No Reviews Yet")]),s("p",{staticClass:"text-muted"},[e._v("Be the first to review this service!")])]):s("div",e._l(e.reviews,(function(t,i){return s("div",{key:i,staticClass:"review-item"},[s("div",{staticClass:"d-flex align-items-center mb-2"},[s("div",{staticClass:"stars me-2"},e._l(5,(function(e){return s("i",{key:e,staticClass:"fas fa-star",class:e<=t.rating?"text-warning":"text-muted"})})),0),s("strong",[e._v(e._s(t.customer_name))])]),s("p",{staticClass:"mb-1"},[e._v(e._s(t.remarks))]),s("small",{staticClass:"text-muted"},[e._v(e._s(e.formatDate(t.date_created)))])])})),0)])])]),s("div",{staticClass:"col-lg-4 mt-4 mt-lg-0"},[s("div",{staticClass:"card mb-4 sticky-top",staticStyle:{top:"20px"}},[e._m(1),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(s){return s.preventDefault(),e.submitRequest.apply(null,arguments)}}},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"requestPinCode"}},[e._v("PIN Code")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.requestForm.pin_code,expression:"requestForm.pin_code"}],staticClass:"form-control",attrs:{id:"requestPinCode",name:"requestPinCode",type:"text",required:"",pattern:"[0-9]{6}",placeholder:"Enter 6-digit PIN code"},domProps:{value:e.requestForm.pin_code},on:{input:function(s){s.target.composing||e.$set(e.requestForm,"pin_code",s.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"requestInstructions"}},[e._v("Special Instructions")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requestForm.special_instructions,expression:"requestForm.special_instructions"}],staticClass:"form-control",attrs:{id:"requestInstructions",name:"requestInstructions",rows:"3",placeholder:"Any specific requirements..."},domProps:{value:e.requestForm.special_instructions},on:{input:function(s){s.target.composing||e.$set(e.requestForm,"special_instructions",s.target.value)}}})]),s("div",{staticClass:"d-grid"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.submitting}},[e.submitting?s("span",{staticClass:"spinner-border spinner-border-sm me-2"}):e._e(),e._v(" Submit Request ")])])])])]),s("div",{staticClass:"card"},[e._m(2),s("div",{staticClass:"card-body"},[0===e.relatedServices.length?s("div",{staticClass:"text-center py-3"},[s("p",{staticClass:"text-muted mb-0"},[e._v("No similar services found")])]):s("div",e._l(e.relatedServices,(function(t){return s("div",{key:t.id,staticClass:"related-service-item",on:{click:function(s){return e.navigateToService(t.id)}}},[s("h6",[e._v(e._s(t.name))]),s("div",{staticClass:"d-flex justify-content-between"},[s("span",{staticClass:"badge bg-primary"},[e._v("₹"+e._s(t.base_price))]),s("small",[e._v(e._s(t.time_required)+" minutes")])])])})),0)])])])])]),e.showSuccessModal?s("div",{staticClass:"modal fade",class:{show:e.showSuccessModal}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[e._v("Request Submitted")]),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(s){e.showSuccessModal=!1}}})]),s("div",{staticClass:"modal-body text-center"},[s("i",{staticClass:"fas fa-check-circle text-success fa-4x mb-3"}),s("h4",[e._v("Service Request Submitted!")]),s("p",[e._v("Your request for "),s("strong",[e._v(e._s(e.service.name))]),e._v(" has been submitted successfully.")])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.goToRequests}},[e._v(" View My Requests ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){e.showSuccessModal=!1}}},[e._v(" Continue Browsing ")])])])])]):e._e()])},a=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[s("span",{staticClass:"visually-hidden"},[e._v("Loading...")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"card-header bg-white"},[s("h5",{staticClass:"mb-0"},[e._v("Book This Service")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"card-header bg-white"},[s("h5",{staticClass:"mb-0"},[e._v("Similar Services")])])}],r=t(844);const c={name:"ServiceDetails",props:{serviceId:{type:[String,Number],required:!0}},data(){return{service:{},reviews:[],relatedServices:[],loading:!0,error:null,submitting:!1,showSuccessModal:!1,requestForm:{service_id:null,pin_code:"",special_instructions:""},serviceIncludes:["Professional service provider","Standard service time","Quality assurance","Customer satisfaction guarantee"]}},methods:{async fetchServiceDetails(){try{this.loading=!0,this.error=null;const e=await r.YR.getServiceById(this.serviceId);this.service=e,this.requestForm.service_id=this.service.id,this.fetchRelatedServices(),this.fetchReviews(),this.loading=!1}catch(e){console.error("Error fetching service details:",e),this.error="Failed to load service details. Please try again.",this.loading=!1}},async fetchRelatedServices(){setTimeout((()=>{this.relatedServices=[{id:1,name:"Basic Plumbing",base_price:600,time_required:60},{id:2,name:"Advanced Plumbing",base_price:1200,time_required:120},{id:3,name:"Emergency Plumbing",base_price:1500,time_required:90}]}),1e3)},async fetchReviews(){setTimeout((()=>{this.reviews=[{id:1,customer_name:"John Doe",rating:5,remarks:"Excellent service! The professional was on time and did a great job.",date_created:"2023-09-15T10:30:00Z"},{id:2,customer_name:"Jane Smith",rating:4,remarks:"Good service overall. Would recommend to others.",date_created:"2023-09-10T14:45:00Z"},{id:3,customer_name:"Mike Johnson",rating:3,remarks:"Average service. Took longer than expected.",date_created:"2023-09-05T09:20:00Z"}]}),1e3)},async submitRequest(){this.submitting=!0;try{this.requestForm.service_id=this.service.id,await r.xZ.createRequest(this.requestForm),this.requestForm={service_id:this.service.id,pin_code:"",special_instructions:""},this.showSuccessModal=!0}catch(e){console.error("Error submitting service request:",e),alert("Failed to submit service request: "+(e.message||"Unknown error"))}finally{this.submitting=!1}},navigateToService(e){this.$router.push(`/service-details/${e}`)},goToRequests(){this.showSuccessModal=!1,this.$router.push("/customer/dashboard")},formatDate(e){if(!e)return"";const s=new Date(e);return s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},created(){this.fetchServiceDetails()}},n=c;var o=t(656),l=(0,o.A)(n,i,a,!1,null,"131429e2",null);const d=l.exports}}]);